<script>
  const inputs = document.querySelectorAll("input, textarea");
  const updateBtn = document.getElementById("updateBtn");

  function checkDisplayForm() {
    let valid = true;
    inputs.forEach(input => {
      if (input.type !== "file" && input.value.trim() === "") {
        valid = false;
      }
    });
    updateBtn.disabled = !valid;
  }

  inputs.forEach(input => {
    input.addEventListener("input", checkDisplayForm);
  });

  updateBtn.addEventListener("click", () => {
    const displayData = {
      productName: document.querySelector('[placeholder="Product name"]')?.value || "",
      price: document.querySelector('[placeholder="Price"]')?.value || "",
      discount: document.querySelector('[placeholder="Discount"]')?.value || "",
      description: document.querySelectorAll("textarea")[0]?.value || "",
      reviews: document.querySelectorAll("textarea")[1]?.value || "",
      date: document.querySelector('[type=\"date\"]')?.value || "",
      customerName: document.querySelectorAll("input[type='text']")[1]?.value || "",
      quantity: document.querySelector('[type=\"number\"]')?.value || ""
    };

    localStorage.setItem("displayProduct", JSON.stringify(displayData));
    alert("Display updated successfully!");
    window.location.href = "display-screen.html";
  });
</script>
